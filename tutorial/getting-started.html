<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Getting Started - Tetra</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A simple 2D game framework written in Rust">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = default_theme; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li class="affix"><a href="../index.html">Tetra</a></li><li><a href="../tutorial/index.html"><strong aria-hidden="true">1.</strong> Tutorial</a></li><li><ol class="section"><li><a href="../tutorial/installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li><a href="../tutorial/getting-started.html" class="active"><strong aria-hidden="true">1.2.</strong> Getting Started</a></li><li><a href="../tutorial/loading-a-texture.html"><strong aria-hidden="true">1.3.</strong> Loading a Texture</a></li></ol></li><li><a href="../examples.html"><strong aria-hidden="true">2.</strong> Examples</a></li><li><a href="../FAQ.html"><strong aria-hidden="true">3.</strong> FAQ</a></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">Tetra</h1> 

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                            
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#getting-started" id="getting-started"><h1>Getting Started</h1></a>
<p>Once you have <a href="./installation.html">installed the native dependencies and set up your project</a>, you're ready to start writing a game!</p>
<a class="header" href="#creating-some-state" id="creating-some-state"><h2>Creating Some State</h2></a>
<p>The first step is to create a struct to hold your game's state. To begin with, let's create some text, and store a position where we want to render it:</p>
<pre><code class="language-rust noplaypen">use tetra::graphics::{Text, Font, Vec2};

struct GameState {
    text: Text,
    position: Vec2,
}

impl GameState {
    fn new() -&gt; GameState {
        GameState {
            text: Text::new(&quot;Hello, world!&quot;, Font::default(), 16.0),
            position: Vec2::new(0.0, 0.0),
        }
    }
}
</code></pre>
<a class="header" href="#adding-some-logic" id="adding-some-logic"><h2>Adding Some Logic</h2></a>
<p>Now that we have some data, we need a way to manipulate it. In Tetra, you do this by implementing the <code>State</code> trait.</p>
<p><code>State</code> has two methods - <code>update</code>, which is where you write your game logic, and <code>draw</code>, which is where you draw things to the screen. By default, the former is called 60 times a second, and the latter is called in sync with your monitor's refresh rate.</p>
<p>Let's write some code that draws our text moving across the screen:</p>
<pre><code class="language-rust noplaypen">use tetra::graphics::{self, Color};
use tetra::{State, Context};

impl State for GameState {
    fn update(&amp;mut self, ctx: &amp;mut Context) -&gt; tetra::Result {
        self.position.x += 1.0;

        Ok(())
    }

    fn draw(&amp;mut self, ctx: &amp;mut Context, _dt: f64) -&gt; tetra::Result {
        graphics::clear(ctx, Color::rgb(0.392, 0.584, 0.929));
        graphics::draw(ctx, &amp;self.text, self.position);

        Ok(())
    }
}
</code></pre>
<p>You might have a few questions after reading that code:</p>
<ul>
<li>What's that <code>Context</code> object that we're passing around? Where does it come from?</li>
<li>Why do we return <code>Ok(())</code> from the methods?</li>
</ul>
<p>To answer these, we'll need to write our program's <code>main</code> function, and actually start our game!</p>
<a class="header" href="#building-a-context" id="building-a-context"><h2>Building a Context</h2></a>
<p><code>Context</code> is the object that represents all the global state in the framework (the window settings, the rendering engine, etc.). Most functions provided by Tetra will require you to pass the current context, so that they can read from/write to it. As your game grows, you'll probably write your own functions that pass around <code>Context</code>, too.</p>
<p>Let's build a new context with a window size of 1280 by 720, and run an instance of our <code>GameState</code> struct on it:</p>
<pre><code class="language-rust noplaypen">use tetra::ContextBuilder;

fn main() -&gt; tetra::Result {
    ContextBuilder::new(&quot;My First Tetra Game&quot;, 1280, 720)
        .build()?
        .run(&amp;mut GameState::new())
}
</code></pre>
<p>Note that both our <code>main</code> function and the <code>run</code> method return <code>tetra::Result</code>, just like our <code>update</code> and <code>draw</code> did. If we'd returned an error from <code>update</code> or <code>draw</code> instead of <code>Ok(())</code>, the game would stop running, and <code>run</code> would return that error to be handled or logged out. In our case, we just pass it on as <code>main</code>'s return value too - Rust will automatically print errors in this case.</p>
<p>If you run <code>cargo run</code> from the command line, you should now see your text scrolling across the screen!</p>
<a class="header" href="#next-steps" id="next-steps"><h2>Next Steps</h2></a>
<p>In <a href="./loading-a-texture.html">the next chapter</a>, we'll try loading a texture to display on the screen.</p>
<p>Here's the full example from this chapter:</p>
<pre><code class="language-rust noplaypen">use tetra::graphics::{self, Color, Text, Font, Vec2};
use tetra::{State, Context, ContextBuilder};

struct GameState {
    text: Text,
    position: Vec2,
}

impl GameState {
    fn new() -&gt; GameState {
        GameState {
            text: Text::new(&quot;Hello, world!&quot;, Font::default(), 16.0),
            position: Vec2::new(0.0, 0.0),
        }
    }
}

impl State for GameState {
    fn update(&amp;mut self, ctx: &amp;mut Context) -&gt; tetra::Result {
        self.position.x += 1.0;

        Ok(())
    }

    fn draw(&amp;mut self, ctx: &amp;mut Context, _dt: f64) -&gt; tetra::Result {
        graphics::clear(ctx, Color::rgb(0.392, 0.584, 0.929));
        graphics::draw(ctx, &amp;self.text, self.position);

        Ok(())
    }
}

fn main() -&gt; tetra::Result {
    ContextBuilder::new(&quot;My First Tetra Game&quot;, 1280, 720)
        .build()?
        .run(&amp;mut GameState::new())
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../tutorial/installation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../tutorial/loading-a-texture.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../tutorial/installation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../tutorial/loading-a-texture.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
